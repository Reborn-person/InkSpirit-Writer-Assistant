# 墨灵写作助手 (InkSpirit Writer Assistant) v1.2.0

从脑洞到爆款。专为超长篇网文创作打造的 **全流程 AI 工作流引擎 (InkSpirit Engine)**。

墨灵写作助手不仅仅是一个简单的 AI 对话工具，它是一套经过精密设计的 **网文创作工业化流水线**。它将复杂的长篇小说创作过程拆解为 10+ 个标准化的工序（模块），每个模块都搭载了专为该环节调优的 Prompt Engineering 和 AI 模型策略，确保输出内容不仅“像人写的”，而且符合网文市场的商业逻辑。

---

## 🚀 版本亮点 (v1.2)

- **品牌升级**：正式更名为“墨灵写作助手”，搭载核心驱动“墨灵引擎”。
- **全流程覆盖**：新增“文章评审”模块，补全了从“输入-创作-输出-反馈”的最后一块拼图。
- **智能书架系统**：重构写作编辑器，引入无限层级书架（书辑-分卷-章节），支持百万字长篇管理。
- **自动拆解技术**：首创“自动章节识别”算法，一键导入 TXT 即可生成结构化目录。
- **交互体验重塑**：全面移除原生弹窗，采用现代化 UI 模态框，支持沉浸式创作。

---

## 🌟 核心功能模块详解

墨灵写作助手包含 11 个核心模块，分为四个阶段，构成了完整的创作闭环：

### 第一阶段：输入与分析 (Input & Analysis)

#### 📚 模块 0.5：智能拆书与分析 (Book Decomposition)
*“向爆款学习，是成功的捷径。”*
- **功能**：支持导入任意 TXT 小说文件（支持批量/拖拽），系统自动识别章节目录。
- **核心能力**：利用大文本模型（Big Model）对小说进行全维度拆解，分析其**三幕式结构**、**人物塑造技巧**、**节奏控制**及**核心爽点**。
- **产出**：详细的拆书报告和可复用的创作技巧库。

#### 🛡️ 模块 8：文章评审与诊断 (Article Review)
*“模拟毒舌主编视角，拒绝自嗨。”*
- **功能**：对已生成的正文进行全维度体检。
- **核心能力**：从**剧情逻辑**、**人物塑造**、**节奏把控**、**期待感**、**文笔风貌**五个维度进行评分（雷达图），并犀利指出“毒点”和“劝退点”。
- **产出**：评分报告、毒点诊断书及具体的修改建议。

### 第二阶段：创意与架构 (Idea & Architecture)

#### 🧠 模块 1：脑洞具象化 (Idea Visualization)
*“把模糊的想法变成扎实的设定。”*
- **功能**：输入碎片化的灵感、题材或核心梗。
- **核心能力**：将一句话脑洞扩展为包含**核心冲突**、**世界观规则**、**金手指设定**、**主线/辅线规划**的结构化方案。
- **产出**：可直接用于生成大纲的标准化脑洞方案。

#### 📝 模块 2：超级长篇大纲生成 (Mega Outline)
*“不只是大纲，是 500 章的行军地图。”*
- **功能**：基于结构化脑洞，生成超长篇小说大纲。
- **核心能力**：采用标准**三幕式结构**，自动规划 10 个大阶段（每阶段 50 章），明确铺垫、高潮、结尾的节奏分布，内置 36 种网文经典情节模式。
- **产出**：包含主线、辅线、人物成长线的 500+ 章超级大纲。

#### 📐 模块 2.5：细纲蓝图生成 (Detailed Outline)
*“三弧合一，拒绝卡文。”*
- **功能**：将大纲转化为逐章的施工图纸。
- **核心能力**：基于“三弧合一”理论（**人物弧光** + **情节推进** + **情绪节奏**），生成每一章的详细细纲，包含核心钩子和伏笔设计。
- **产出**：每一章的详细蓝图（约 200 字/章）。

### 第三阶段：正文创作 (Content Generation)

#### 🚀 模块 3：黄金开篇生成 (Golden Opening)
*“黄金三章，决定生死。”*
- **功能**：创作高留存率的前三章。
- **核心能力**：内置**万能冲突**、**悬念做局**、**人设做局**等多种开篇模型，确保前三章节奏紧凑、悬念迭起。
- **产出**：精细打磨的前三章正文（1800-2200字/章）。

#### ✍️ 模块 4：章节批量生成 (Batch Drafting)
*“日更万字不是梦。”*
- **功能**：基于细纲批量生成后续章节。
- **核心能力**：严格遵循细纲的剧情走向，自动填充细节描写、对话和场景，确保逻辑连贯。
- **产出**：批量的初稿章节。

#### 🎭 模块 5：风格仿写创作 (Style Imitation)
*“学习大师的笔触。”*
- **功能**：模仿特定作家或作品的文风进行创作。
- **核心能力**：提取目标作品的**叙事节奏**、**用词习惯**和**描写特色**，结合原创剧情进行生成。
- **产出**：具有特定风格的原创内容。

#### 🎨 模块 6：全文润色与精修 (Polishing)
*“从初稿到成品。”*
- **功能**：对生成的内容进行精修。
- **核心能力**：支持**口语化**、**文艺风**、**快节奏**等多种润色方向，修复逻辑漏洞，提升文采。
- **产出**：成品级别的正文。

### 第四阶段：辅助与管理 (Support & Management)

#### 🤖 模块 7：AI 辅助写作 (Copilot Editor)
*“你的 24 小时贴身书童。”*
- **功能**：集成了书架管理和 AI 助手的全能编辑器。
- **核心能力**：
  - **书架系统**：支持“书辑 -> 分卷 -> 章节”三级管理，自动解析目录。
  - **Copilot**：支持智能续写、段落重写、灵感扩写。
  - **RAG 上下文**：自动检索大纲和人设信息，确保续写不 OOC。

#### ⚗️ 模块 9：提示词炼金工坊 (Prompt Alchemy)
*“授人以鱼不如授人以渔。”*
- **功能**：提示词的开发与迭代环境。
- **核心能力**：引入“对抗生成”机制，双模型生成提示词，独立模型进行评审打分，自动迭代出最优 Prompt。

#### ⚙️ 模块 10：提示词管理中心 (Prompt Manager)
*“资产化你的创作经验。”*
- **功能**：全站提示词的集中管理。
- **核心能力**：支持查看、编辑、备份所有模块的系统提示词，支持导入社区优秀的提示词包。

---

## 🛠️ 技术架构

- **前端框架**：Next.js 16.1.1 (App Router) - 极速响应，SSR 渲染。
- **UI 设计**：Tailwind CSS 4 + Lucide React - 现代化、极简主义设计。
- **数据储存**：Local Storage + JSON - 数据完全本地化，安全可控，支持一键备份导出。
- **AI 核心 (Model Agnostic)**：
  - **RAG Layer**：利用向量检索技术，管理百万字长篇的上下文记忆。
  - **Planning Model**：推荐使用推理能力强的模型 (如 DeepSeek-R1) 处理大纲/细纲。
  - **Writing Model**：推荐使用文学性强的模型 (如 DeepSeek-V3) 处理正文。
  - **Context Window**：针对模块 0.5 适配 128k+ 长窗口模型。

---

## 📦 快速开始

### 1. 环境准备
确保本地已安装 Node.js 18+ 环境。

### 2. 安装与启动
```bash
# 克隆项目
git clone https://github.com/your-username/inkspirit-writer.git
cd inkspirit-writer

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 3. 访问应用
打开浏览器访问 [http://localhost:3000](http://localhost:3000) 即可开始创作。

---

## 🎯 最佳实践指南

1.  **配置 API**：进入设置页，填写 SiliconFlow 或其他兼容 OpenAI 格式的 API Key。建议为不同任务配置不同模型。
2.  **拆解对标**：先用 **模块 0.5** 分析几本同类型的爆款书，提取其节奏模板。
3.  **确定脑洞**：在 **模块 1** 中输入你的核心梗，生成结构化方案。
4.  **生成大纲**：在 **模块 2** 生成 500 章大纲，人工微调关键节点。
5.  **生成细纲**：在 **模块 2.5** 批量生成前 20 章细纲。
6.  **正文创作**：
    - 用 **模块 3** 生成前三章。
    - 用 **模块 4** 批量生成后续章节。
    - 用 **模块 7** 进行人工润色和精修，利用 AI 补全细节。
7.  **质量把控**：每写完一卷，用 **模块 8** 进行评审，及时调整后续方向。

---

## 🤝 贡献与支持
本项目开源，欢迎提交 PR 或 Issue。
如果你觉得这个项目好用，请给个 Star ⭐ 支持一下！

**License**: MIT
